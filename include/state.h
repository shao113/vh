#ifndef STATE_H
#define STATE_H

#include "common.h"
#include "evt.h"

typedef struct State {
   u8 worldMapState;
   u8 townState;
   u8 scene;
   u8 field3_0x3;
   u8 D_80140530;
   u8 chapterOutro;
   u8 movieIdxToPlay;
   u8 worldMapDestination;
   u8 prevState;
   u8 saveLocation;
   u8 field10_0xa;
   u8 field11_0xb;
   u32 frameCounter;
   u8 chapter;
   u8 section;
   u8 D_8014053E;
   u8 field16_0x13;
   DynamicIcon dynamicIcons[7];
   BigInt experience;
   u8 expScalingLevel;
   u8 field20_0x4f;
   s32 debug;
   s32 useDefaultUnits;
   s32 primary;
   s32 secondary;
   s32 state3;
   s32 state4;
   s32 state5;
   s32 state6;
   s32 state7;
   s32 state8;
   s32 D_801405A4;

   u32 battleEval;
   u8 needEval;

   // MapState still TBD, but these 20 bytes are saved to card file, so starting w/ this:
   union {
      struct {
         u8 mapState2_0x5;
         u8 mapState3_0x6;
         u8 mapState4_0x7;
         u8 mapState5_0x8;
         u8 mapState6_0x9;
         u8 mapState7_0xa;
         u8 mapState8_0xb;
         u8 mapState9_0xc;
         u8 mapState10_0xd;
         u8 mapState11_0xe;
         u8 mapState12_0xf;
         u8 foundHiddenItem1;
         u8 foundHiddenItem2;
         u8 mapState15_0x12;
         u8 mapState16_0x13;
         u8 mapState17_0x14;
         u8 mapState18_0x15;
         u8 mapState19_0x16;
         u8 mapState20_0x17;
         u8 mapState21_0x18;
      } n;
      u8 bytes[20];
   } mapState;

   u8 signal;
   u8 mapState23_0x1a;
   u8 preciseSprites;
   u8 mapState25_0x1c;
   u8 msgFinished;
   u8 searchX;
   u8 searchZ;

   u8 droppedItem;
   u8 field34_0x9d;
   s16 turn;
   u8 field36_0xa0;
   u8 field37_0xa1;
   s16 field38_0xa2;
   u8 battleNum;
   u8 fieldRenderingDisabled;
   u8 vsyncMode;
   u8 field42_0xa7;
   s16 depot[150];
   s32 gold;
   u8 field45_0x1d8;
   u8 msgTextWaitTimer[5];
   s16 portraitsToLoad[75];
   s16 currentPortraits[75];
   u8 compassDisabled;
   u8 field50_0x30b;
   s16 eventResumeLocation;
   SVectorXYZ eventCameraPan;
   s16 field53_0x314;
   s16 field54_0x316;
   EvtData *field55_0x318;
   u8 msgBoxFinished;
   u8 field57_0x31d;
   u8 field58_0x31e;
   u8 field59_0x31f;
   s8 **currentTextPointers;
   u8 field61_0x324;
   u8 zoom;
   s16 unitMarkerSpin;
   u8 lastSelectedUnit;
   u8 mono;
   u8 cameraMode;
   u8 mapCursorOutOfRange;
   u8 field68_0x32c;
   u8 D_80140859;
   u8 vsyncNoWait;
   u8 field71_0x32f;
   u8 field72_0x330;
   u8 choices[6];
   u8 enableMapScaling;
   u8 textSpeed;
   u8 field76_0x339;
   u8 field77_0x33a;
   u8 field78_0x33b;
   EvtData *evtScreenEffect;
   u8 field80_0x340;
   u8 field81_0x341;
   u8 field82_0x342;
   u8 field83_0x343;
} State;

extern State gState;

#endif
